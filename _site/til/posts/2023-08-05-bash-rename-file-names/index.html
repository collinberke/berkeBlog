<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Collin K. Berke, Ph.D.">
<meta name="dcterms.date" content="2023-08-05">
<meta name="description" content="Use the rename utility to save time when renaming files">

<title>Collin K. Berke, Ph.D.&nbsp;- Easily rename files from the command line</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../icon.png" rel="icon" type="image/png">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../../site_libs/bootstrap/bootstrap-dark.min.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Collin K. Berke, Ph.D.</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../now.html" rel="" target="">
 <span class="menu-text">Now</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../blog/index.html" rel="" target="">
 <span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../til/index.html" rel="" target="">
 <span class="menu-text">Today I Learned</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#background" id="toc-background" class="nav-link active" data-scroll-target="#background">Background</a></li>
  <li><a href="#prerequisites" id="toc-prerequisites" class="nav-link" data-scroll-target="#prerequisites">Prerequisites</a>
  <ul class="collapse">
  <li><a href="#install-the-rename-command-line-tool" id="toc-install-the-rename-command-line-tool" class="nav-link" data-scroll-target="#install-the-rename-command-line-tool">Install the <code>rename</code> command line tool</a></li>
  <li><a href="#follow-along-with-some-examples" id="toc-follow-along-with-some-examples" class="nav-link" data-scroll-target="#follow-along-with-some-examples">Follow along with some examples</a></li>
  </ul></li>
  <li><a href="#getting-to-know-the-rename-command" id="toc-getting-to-know-the-rename-command" class="nav-link" data-scroll-target="#getting-to-know-the-rename-command">Getting to know the <code>rename</code> command</a></li>
  <li><a href="#rename-dry-run" id="toc-rename-dry-run" class="nav-link" data-scroll-target="#rename-dry-run"><code>rename</code> dry run</a></li>
  <li><a href="#rename-interactive-mode" id="toc-rename-interactive-mode" class="nav-link" data-scroll-target="#rename-interactive-mode"><code>rename</code> interactive mode</a></li>
  <li><a href="#rename-file-lower--and-upper-case-names" id="toc-rename-file-lower--and-upper-case-names" class="nav-link" data-scroll-target="#rename-file-lower--and-upper-case-names"><code>rename</code> file lower- and upper-case names</a></li>
  <li><a href="#adding-a-prefix-or-suffix-to-each-file-name" id="toc-adding-a-prefix-or-suffix-to-each-file-name" class="nav-link" data-scroll-target="#adding-a-prefix-or-suffix-to-each-file-name">Adding a prefix or suffix to each file name</a></li>
  <li><a href="#wrap" id="toc-wrap" class="nav-link" data-scroll-target="#wrap">Wrap</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-page-left" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Easily rename files from the command line</h1>
  <div class="quarto-categories">
    <div class="quarto-category">command line tools</div>
    <div class="quarto-category">productivity</div>
  </div>
  </div>

<div>
  <div class="description">
    Use the <code>rename</code> utility to save time when renaming files
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Collin K. Berke, Ph.D. </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">August 5, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="background" class="level1">
<h1>Background</h1>
<p>Today I learned how to easily rename groups of files using the <code>rename</code> command line tool. From time-to-time, I need to export a multitude of <code>.csv</code> and <code>.xlsx</code> files from various systems or file stores. When exporting files, the systems I apply standardized, repeated file naming conventions. Often, I’m confronted with–and I’m sure some of you are to–is you export a bunch of files, then open up the directory to these files, and you’re confronted with something like this:</p>
<p><code>data_export_store_info.csv</code> <code>data_export_store_info (1).csv</code> <code>data_export_store_info (2).csv</code> <code>StationDataInfo.xlsx</code> <code>StationDataInfo (1).xlsx</code> <code>StationDataInfo (2).xlsx</code></p>
<p>One apporach to fixing these file names is to open your file explorer and manually change the file name one-by-one. This isn’t too arduous of a task if you only have a few files. However, what if you have hundreds, or even thousands of file names to change? I don’t know about you, but I value my time–time I’d rather spend doing data analysis instead of file name management, yuck.</p>
<p>Manual file name manipulation can not only be time consuming, it can be error prone. We’ve all been there, Thursday afternoon, under caffinated, you accidentally enter a type into a file name, and you inevitably break something downstream. I know I’ve done this countless times. There has to be a another approach, right?</p>
<p>This post demonstrates something I learned recently, a better way. I will do this by showing you a few things I learned while using the <code>rename</code> command line tool. In this post:</p>
<ol type="1">
<li>I’ll start by discussing the basic usage of the <code>rename</code> command.</li>
<li>I’ll then share a couple practical examples to show how the command works.</li>
<li>Towards the end, I’ll demonstrate a few useful modfications to the command.</li>
</ol>
<p>Keep in mind that although the <code>rename</code> tool is helpful, it may only get you to about 90% to 95% of your file naming end goal. You may still need to use some more advanced tools like regular expressions or some additional manual manipulation to get to your desired result. A comprehensive discussion of these topics is outside the scope of this post, so I direct you to read the docs (<code>man rename</code> or <code>rename --help</code> for an overview of the command’s options) to learn more advanced usage.</p>
</section>
<section id="prerequisites" class="level1">
<h1>Prerequisites</h1>
<section id="install-the-rename-command-line-tool" class="level2">
<h2 class="anchored" data-anchor-id="install-the-rename-command-line-tool">Install the <code>rename</code> command line tool</h2>
<p>Depending on your system, you may need to download this utility. As of the writing of this post, I’m using MacOS. <code>rename</code> is not a default system utility, so I use <a href="https://brew.sh/">homebrew</a> to download and install it. This is easily done by doing the following in your terminal:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">brew</span> install rename</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If you’re using another operating system, you’ll need to identify the steps needed to install the utility. A simple Google search will most likely yield helpful results.</p>
</section>
<section id="follow-along-with-some-examples" class="level2">
<h2 class="anchored" data-anchor-id="follow-along-with-some-examples">Follow along with some examples</h2>
<p>To help make the concepts covered in this post more concrete, experimenting with some example files will be helpful. You can create the files used in the examples by running the simple <code>make_examples_files.py</code> Python script found in the <a href=""><code>examples</code></a> directory for this post. Navigate to the directory where you download this file, and run the following command in your terminal to create the example files. <strong>Keep in mind this script will write a few directories and files to the current working directory on your machine.</strong> As such, I suggest placing this file into a new, empty directory while you’re experimenting.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python3</span> make_example_files.py</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To help clean up, I’ve also created a Python script to delete the directories and files the <code>make_examples_files.py</code> creates. <strong>Be warned, running this file will delte these directories.</strong> So, if you save something into these directories while going through these examples, this information will also be deleted.</p>
</section>
</section>
<section id="getting-to-know-the-rename-command" class="level1">
<h1>Getting to know the <code>rename</code> command</h1>
<p>A similar command to <code>rename</code> is <code>mv</code>. The <code>mv</code> command can be used to change the name of file(s). <code>rename</code>, however, is useful when you need to rename a collection or group of files containing some type of string pattern.</p>
<p>The <code>rename</code> command, simply, takes two inputs: a Perl regular expression and the file name or string pattern to apply the rename to. Indeed, this sounds more complicated then it is in practice. To help clarify, I’ve provided the basic syntax of the command below.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">rename</span> <span class="st">'s/old-file-name/new-file-name'</span> files</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>That’s all. Let’s now see it in action with a couple of examples. Again, you can follow along with these examples by running the simple Python script linked above. Running this script will set up the directories and files you’ll need.</p>
</section>
<section id="rename-dry-run" class="level1">
<h1><code>rename</code> dry run</h1>
<p>Before we get too far into the examples, though, I do want to introduce the <code>--dry-run</code> or <code>-n</code> (for short) switch (i.e., option). This flag, when passed along with <code>rename</code> command, will print the changes to be made to file names, but it won’t make any changes. It’s a great way to double check that what you intend to do is what will actually happen when you run the <code>rename</code> command for real. This is especially useful in situations where you have to get your naming conventions right, like in cases where mistakes need to be avoided.</p>
<p>Let’s start with a simple example. In the <code>example_test_file</code> directory, you’ll find 10 <code>.csv</code> files that have a common naming convention, <code>*_test_file.csv</code>. To list these files in the terminal, run <code>ll</code> on the command line. You should see something like this (I only show the first three file names here):</p>
<pre class="text"><code>-rw-r--r--@ 1 cberke  staff     0B Aug 27 20:50 01_test_file.csv
-rw-r--r--@ 1 cberke  staff     0B Aug 27 20:50 02_test_file.csv
-rw-r--r--@ 1 cberke  staff     0B Aug 27 20:50 03_test_file.csv
...</code></pre>
<p>Now, say we want to convert the end of these file strings to something like <code>*_data_for_analysis.csv</code>. Again, being only 10 or so files this may not seem to be a time-consuming task. But take a second and imagine if this directory contained 100 or even 1,000 files.</p>
<p>You can preview what file names will be changed by running the following from the command line.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">rename</span> <span class="st">'s/_test_file/_data_for_analysis/'</span> <span class="pp">*</span>.csv <span class="at">--dry-run</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>After running this command, the following will be printed to the console (I used the <code>...</code> here to truncate the output):</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode txt code-with-copy"><code class="sourceCode default"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>'01_test_file.csv' would be renamed to '01_data_for_analysis.csv'</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>'02_test_file.csv' would be renamed to '02_data_for_analysis.csv'</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>'09_test_file.csv' would be renamed to '09_data_for_analysis.csv'</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>'10_test_file.csv' would be renamed to '10_data_for_analysis.csv'</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>What gets printed to the console is the would be result of your rename command.</p>
<p>To recap, the above command contains the substitution expression (<code>s/_test_file/_data_for_analysis/</code>) and the files which this substitution should be applied (<code>*.csv</code> all files with a <code>.csv</code> extension.</p>
<p>If you want to move forward with your rename, just take away the <code>--dry-run</code> flag away from the command. To verify these changes have been made, pass along the <code>--verbose</code> or shorter <code>-v</code> flag to have the console print out all the changes that have been made. You can also see the results of your rename by running <code>ll</code> in your console.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">rename</span> <span class="st">'s/_test_file/_data_for_analysis/'</span> <span class="pp">*</span>.csv <span class="at">--verbose</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># or for short</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="ex">rename</span> <span class="st">'s/_test_file/_data_for_analysis/'</span> <span class="pp">*</span>.csv <span class="at">-v</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="rename-interactive-mode" class="level1">
<h1><code>rename</code> interactive mode</h1>
<p>Another safety net is to include the <code>--interactive</code> or <code>-i</code> flag for short. This flag prompts you to confirm every write that will take place. For example, I’ll use this flag to demonstrate renaming to the files in the <code>example_station_demos</code> directory. Specifically, I want to transform my files from <code>20230827_data_station_demos.csv</code> to <code>20230827_data_kzzk_demos.csv</code>. Here’s is what needs to be submitted to the terminal:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">rename</span> <span class="st">'s/_station_/_kzzk/'</span> <span class="pp">*</span>.csv <span class="at">--interactive</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co"># or for short</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="ex">rename</span> <span class="st">'s/_station_/_kzzk/'</span> <span class="pp">*</span>.csv <span class="at">-i</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>While in interactive mode, you’ll be prompted with the following in your console:</p>
<pre class="text"><code>Rename '20230827_data_station_demos.csv' to '20230827_data_kzzk_demos.csv' (y/n)? [n]</code></pre>
<p>As such, you’ll see the old file name and what the new file name will be once you accept the change. You’ll have to respond to this prompt for every file that is to be renamed.</p>
<p>In reality, interactive mode is only useful if you are modifying a managable number of files. However for changes to a large number of files, it’s much more practical to use the <code>--dry-run</code> flag.</p>
</section>
<section id="rename-file-lower--and-upper-case-names" class="level1">
<h1><code>rename</code> file lower- and upper-case names</h1>
<p>Along with string substitutions, the rename tool provides transformation command flags for common string operations. One such operation is to transform character strings to all UPPER CASE or lower case.</p>
<p>Since these files already exist within the directory, you’ll need to include the <code>--force</code> flag in your command. This is because the files already exist in the directory, so you need to force the operation.</p>
<p>Take for example the files in the <code>example_pageview</code> directory. You’ll notice all of these files have strings containing upper case character strings. To convert these to lower, run the following command.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">rename</span> <span class="pp">*</span>.csv <span class="at">--lower-case</span> <span class="at">--force</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># or for short</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="ex">rename</span> <span class="pp">*</span>.csv <span class="at">-cf</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now, say you want to transform all the file strings back to all in UPPER CASE. Let’s swap the <code>--lower-case</code> flag with the <code>--upper-case</code> flag and do a dry-run to inspect the changes. Once you run the following command, take a close look at the output.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">rename</span> <span class="pp">*</span>.csv <span class="at">--upper-case</span> <span class="at">--force</span> <span class="at">--dry-run</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co"># or for short</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="ex">rename</span> <span class="pp">*</span>.csv <span class="at">-Cfn</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In your console, you should see something like the following. Take a close look at the file extensions.</p>
<pre class="text"><code>'20230904_WEBSITE_PAGEVIEWS.csv' would be renamed to '20230904_WEBSITE_PAGEVIEWS.CSV'
'20230905_WEBSITE_PAGEVIEWS.csv' would be renamed to '20230905_WEBSITE_PAGEVIEWS.CSV'
'20230906_WEBSITE_PAGEVIEWS.csv' would be renamed to '20230906_WEBSITE_PAGEVIEWS.CSV'
...</code></pre>
<p>You should immediately notice our rename command converted the entire string. This included the file extension, <code>.csv</code> to <code>.CSV</code>. To address this issue, we need to include the <code>--keep-extension</code> flag or <code>-X</code> to the command. This flag will remove the file extension, make the transformation, and append the original file extension back. Our final command will look something like this:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">rename</span> <span class="pp">*</span>.csv <span class="at">--keep-extension</span> <span class="at">--upper-case</span> <span class="at">--force</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co"># or for short</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="ex">rename</span> <span class="pp">*</span>.csv <span class="at">-XCf</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="adding-a-prefix-or-suffix-to-each-file-name" class="level1">
<h1>Adding a prefix or suffix to each file name</h1>
</section>
<section id="wrap" class="level1">
<h1>Wrap</h1>
<p>So there you have it. This post was an overview of what I’ve recently learned while using the <code>rename</code> command-line tool. Specifically, I discussed:</p>
<ul>
<li>How the <code>--dry-run</code> command flag is used to test out file name changes.</li>
<li>How <code>rename</code> can be used to subsitute string patterns within a file name.</li>
<li>What <code>rename</code>’s <code>--interactive</code> flag does.</li>
<li>How you can use other <code>rename</code> command flags to perform common string transformations.</li>
</ul>
<p>If you have any other uses for <code>rename</code> or you have a better approaches to doing something above, I would love to hear about them.</p>
<p>Happy data file management!</p>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div id="quarto-reuse" class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">https://creativecommons.org/licenses/by/4.0/</a></div></div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@misc{berke2023,
  author = {Berke, Collin K},
  title = {Easily Rename Files from the Command Line},
  date = {2023-08-05},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-berke2023" class="csl-entry quarto-appendix-citeas" role="listitem">
Berke, Collin K. 2023. <span>“Easily Rename Files from the Command
Line.”</span> August 5, 2023.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'alternate';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>