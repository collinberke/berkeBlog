---
title: "Notes: A series on probability"
draft: true
description: "An attempt to better understand probability theory"
date: "2025-09-02"
author: "Collin K. Berke, Ph.D."
image: false
toc: true
code-link: true
code-copy: true
from: markdown+emoji
categories:
  - til
  - notes
  - links
  - productivity
execute:
  eval: false
---

The following will be a series of blog posts containing notes of my attempt to better understand probability theory.
The intent is to take the theory in bite-sized chunks, while also taking the opportunity to dig further into concepts that require greater depth.
The overall goal of this series is to put the concepts into my own words, developing my own examples to better understand the foundations of the theory.

Probability theory is a deep subject.
A single blog post, and a series of notes for that matter, would be insufficient to provide much depth.
Many texts already provide detailed coverage of this subject.
This blog post, rather, is an attempt to wrestle with and make sense of the theory's basic concepts step-by-step.
I'll list relevant references and additional readings at the end of each post.

Be aware, there will likely be errors in this series.
Learning is messy.
I may, at times, misunderstand or misinterpret portions of the theory's concepts.
As such, you'll want to verify any of my work against other reliable, peer-reviewed sources from subject matter experts.

```{r}
#| label: setup
library(tidyverse)

# set random seed for reproducibility
set.seed(20250908)
```

# What is probability?

Probability is a mathematical framework to model the outcomes of random processes.
Since it's a framework, some have provided a formal definition.

According to [@diezMineBarr2019], probability is defined as:

> The proportion of times the outcome would occur if we observed the random process an infinite number of times.

From the archived [Seeing Theory website](https://seeing-theory.brown.edu/index.html#firstPage), probability is defined as:

> Probability theory is the mathematical framework that allos us to analyze chance event in a logically sound manner.

From Wikipedia:

> Probability is a branch of mathematics and statistics concerning events and numerical descriptions of how likely they are to occur.

If you're looking for the 'classical definition of probabiliyt', you'll be directed to the following definition:

> 

Other online sources define probability as:

> Probability is defined as the likelihood of the occurrence of any event.

Spend any time searching for a clear, complete definition of probability will lead you to various technical definitions.

## Outcomes

Probability is a method for quantifying outcomes and uncertainty.
These outcomes can be singular, like rolling a six-sided die or drawing one card from a [standard deck of playing cards](https://en.wikipedia.org/wiki/Standard_52-card_deck).
These outcomes might also be more practical.
For example, examining the results of an email marketing campaign.

Probability is also useful for modeling collections of outcomes, also known as events.
For instance, calculating the probability of rolling an even number of a six-sided die (e.g., roll = {2, 4, 6}).
Events can either be *disjoint* (i.e., *mutually exclusive*) or *not disjoint*.
I find examples using a six-sided dice to be the most straight forward explanation of this concept.

When you roll a single six-sided die, there's only one outcome that can result (i.e., roll = {1, 2, 3, 4, 5, 6}).
Let's say we roll the die once.
What is the probability a 2 or a 4 will be the outcome of our roll.
These two potential outcomes are disjoint: they can't happen at the same time.
How, then, do we go about determining the chance we'll roll a 2 or a 4?

## The basic rules of probability

As a theory, probability follows specific rules.
These rules are listed and discussed further below.

### Possible values of probability

Probabilities are represented as proportions, ranging from 0 and 1.
Often, probability is represented using percentages: 0% to 100%.

Given probabilities are a proportion, the sum of all possible outcomes is equal to 1.

### Addition rule

When outcomes are disjoint, the addition rule of disjoint outcomes is used to calculate the probability.
In equation form, the calculation looks like this:

$$
P(rolling a 2 or 4) = P(2) + P(4)
\frac{1}{6} + \frac{1}{6}
\frac{2}{6} = \frac{1}{3}
$$

If you have more than two events, for instance the probability of rolling an even number, the equation can be expanded:

$$
P(rolling a 2, 4, or 6) = P(2) + P(4) + P(6)
\frac{1}{6} + \frac{1}{6} + \frac{1}{6}
\frac{3}{6} = \frac{1}{2}
$$

Again, this only applies when the outcomes being observed are considered to be disjoint.

Let's use a little R code to simulate this a bit.
Let's simulate the roll of a six-sided die 10000 times, and view the distrubutions of the outcomes.

```{r}
#| label: sim-single-die
table(sample(1:6, 10000, replace = TRUE))

prop.table(table(sample(1:6, 10000, replace = TRUE)))

# Probability of rolling a 2 or 4
.1607 + .1675

# Probability of rolling an even number
.1607 + .1675 + .1686
```

As you can see, the probability calculated from the outcomes are close to what we initially estimated.

## Not disjoint events and the general addition rule

Calculating the probability for not disjoint events requires a different approach.
When calculating the probability of not disjoint events, the General Addition Rule is used.
This probability calculation accounts for overlapping events.
For instance, let's use a marketing example.

Say we are a marketing department rolling out a new campaign along with a sales premimum for some of our products (e.g., a buy one get one free offer).
As part of the analysis, we include 10,000 recent sales transactions.
Of those 10,000 sales:

* 2,578 interacted with the campaign.
* 1,256 of the sales transactions used the premimum offer.
* 725 sales involved both an interaction with the campaign and took advantage of the premium offer.

Here we have a situation where the events are not disjoint, so we need to use the General Addition rule to calculate probabilities.
A Venn diagram is a useful visualization to help organize and calculate the probabilities of the different events.

For instance, we can see the probability that a sale is the result of at least an interaction with the marketing campaign is .2578 (i.e., 2578 / 10000 = .2578).
For the premium, the probability is .1256 (i.e., 1256 / 10000 = .1256).

However, how can we calculate the probability a randomly drawn sales transaction is due to either an interaction with the marketing campaign or the sales premium?
The General Addition Rule can be used to calculate this probability.
The General Addition Rule equation look like this:

$$
P(A or B) = P(A) + P(B) - P(A and B)
$$

Here's how to use the general addition rule applied to our email marketing example:

$$
P(interacted with campaign or used premimum) = P(interacted with campaign) + P(used premium) - P(interacted with campaign and used premimum)
P(interacted with campaign) + P(used premium) - P(interacted with campaign and used premimum)
.2578 + .1256 - .0725
.3109
$$

Given the 10,000 sales interactions, the probability that a sale took place because of an interaction with the marketing campaign or the sales premium is 31.09%.

### Multiplication rule



### Conditional probability

Conditional probabilities involve calculating relationships between two or more variables.
Along with conditional probabilities, you can also calculate marginal and joint probabilities.
Marginal probabilities are probabilities that involve only one variable.
Joint probabilities are calculations based on two or more variables.

Contingency tables are a useful tool for exploring conditional probabilities.
Let's use a marketing example once again.
Say we're a company soon to launch a new product.
As part of the product launch, an email campaign will be created.

In this example, we have two variables of interest: `email_event` and `transaction`.
The outcomes of each variable include:

* `email_event` = {`click`, `no_click`}
* `transaction` = {`purchase`, `no_purchase`}

Below are contrived values of the outcomes of our fictious email campaign.

| Email    | Purchase | No Purchase | Total |
|----------|----------|-------------|-------|
| click    | 1576     | 3755        | 5331  |
| no_click | 5476     | 750         | 6226  |
| Total    | 7052     | 4505        | 11557 |

With the frequencies of the different events, we can calculate our marginal and joint probabilities.
Let's start with the probability that someone clicked the link in our product email.
The calculation would be the following:

$$
P(`click`) = \frac{5331}{11557} = .4613
$$

What about those that clicked, but didn't make a purchase?
The calculation would look like the following:

$$
P(`Email` is `click` and `Purchase` is `no_purchase`) = \frac{3755}{11557} = 0.325
$$

Say we want the joint probability of email recipients who clicked and made a purchase.
We can do the following:

$$
P(`Email` is `click` and `Purchase` is `purchase`) = \frac{1576}{11557} = 0.1363
$$

Not a bad conversion rate for the campaign.

It's often useful to convert contingency table's values into a table of proportions.
For instance, the proportions for our above example would look like the following:

| Email    | Purchase | No Purchase | Total  |
|----------|----------|-------------|--------|
| click    | 0.1364   | 0.3249      | 0.4613 |
| no_click | 0.4738   | 0.0649      | 0.5387 |
| Total    | 0.6102   | 0.3898      | 1.00   |

Indeed, you might recognize some of these estimates are the same as what we calculated above.

We can also improve our probability estimate of one variable using information from another.
This is where conditional probabilities come into play.
Conditional probabilities are probabilities calculated under some condition.
Conditional probabilites are composed of two parts:

1. An outcome of interest
2. A condition

Say we wanted to get better information about whether a click led to a purchase or not.
We could narrow our focus to just clicks (i.e., our condition) to get a better estimate of the probability of a purchase.
This is a conditional probability.
The condition being that someone clicked a link within our email.
In equation form, it would look something like this:

$$
P(`transaction` is `purchase` given `email event` is `click`) = \frac{1576}{5331} = .2956
$$

How about the conditional probability when someone clicked and no purchase took place.
In other words, P(`transaction` is `purchase` | `email event` is `click`).

$$
P(`transaction` is  `purchase` |  `email event` is  `click`) = \frac{3755}{5331} = .7044
$$

## References and further readings
